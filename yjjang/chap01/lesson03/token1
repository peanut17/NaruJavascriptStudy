
ì•„ë˜ëŠ” Grafana 25.4.4.25(=Grafana 10.x ê³„ì—´) ê¸°ì¤€ìœ¼ë¡œ
API Token ìƒì„± â†’ curlë¡œ API í˜¸ì¶œê¹Œì§€ ì „ì²´ ê³¼ì •ì„ ê°€ì¥ ì •í™•íˆ ì •ë¦¬í•œ ë°©ë²•ì…ë‹ˆë‹¤.


---

âœ… 1. Grafanaì—ì„œ API Token ìƒì„±í•˜ê¸°

â‘  ë¡œê·¸ì¸ í›„

Settings(í†±ë‹ˆë°”í€´ ì•„ì´ì½˜) â†’ Users & Teams â†’ Service Accounts ì´ë™
(ìµœê·¼ 25.x ê³„ì—´ì—ì„œëŠ” API Key ë©”ë‰´ê°€ ì—†ì–´ì§€ê³  Service Account + Token êµ¬ì¡°ë¡œ ë³€ê²½ë¨)

â‘¡ Service Account ë§Œë“¤ê¸°

New service account í´ë¦­

ì´ë¦„ ì…ë ¥: ì˜ˆ) api-reader

Role ì„ íƒ (ì¤‘ìš”)

Role	ê¶Œí•œ

Viewer	ëŒ€ì‹œë³´ë“œ ì¡°íšŒ
Editor	íŒ¨ë„/ëŒ€ì‹œë³´ë“œ ìˆ˜ì •
Admin	ì „ì²´ ê´€ë¦¬



â‘¢ Token ìƒì„±

Service Account ìƒì„± í›„ â†’ Add token

Token name ì…ë ¥ (ì˜ˆ: apitoken)

TTL(ë§Œë£Œ ì‹œê°„) ì„¤ì • or No expiration

Create token


ğŸ‘‰ í† í° ë¬¸ìì—´ì„ ë³µì‚¬í•´ ë‘ì„¸ìš”.
(ë‹¤ì‹œ ëª» ë³´ë‹ˆ í•œ ë²ˆë§Œ í‘œì‹œë©ë‹ˆë‹¤.)


---

âœ… 2. Curl ì‚¬ìš©ì„ ìœ„í•œ Authorization í—¤ë” ê·œì¹™

Grafana 10.x ì´ìƒì—ì„œëŠ”
âœ” Bearer í† í° ë°©ì‹ë§Œ ì§€ì›

-H "Authorization: Bearer <TOKEN>"


---

âœ… 3. Curlë¡œ Grafana API í˜¸ì¶œí•˜ê¸°

ğŸ“Œ (1) ìƒíƒœ ì²´í¬ API â€” ê°„ë‹¨ í…ŒìŠ¤íŠ¸

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://YOUR_GRAFANA_HOST/api/health

ì˜ˆì‹œ:

curl -H "Authorization: Bearer eyJrIjoiQj...AA" \
     http://192.168.10.10:3000/api/health


---

ğŸ“Œ (2) ì¡°ì§ ì •ë³´ í™•ì¸

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://YOUR_GRAFANA_HOST/api/org


---

ğŸ“Œ (3) ëŒ€ì‹œë³´ë“œ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://YOUR_GRAFANA_HOST/api/search


---

ğŸ“Œ (4) íŠ¹ì • ëŒ€ì‹œë³´ë“œ JSON ê°€ì ¸ì˜¤ê¸°(uid ê¸°ì¤€)

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://YOUR_GRAFANA_HOST/api/dashboards/uid/abcd1234


---

ğŸ“Œ (5) ì•ŒëŒ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://YOUR_GRAFANA_HOST/api/v1/provisioning/alert-rules


---

âœ… 4. ì—ëŸ¬ê°€ ë‚  ë•Œ í™•ì¸í•  ì 

âœ” 401 Unauthorized ë°œìƒ ì‹œ

í† í° ë¬¸ìì—´ ë’¤ì— ê³µë°±/ì¤„ë°”ê¿ˆì´ ì„ì˜€ëŠ”ì§€ í™•ì¸

curl ëª…ë ¹ì— "Authorization: Bearer â€¦" ë¹ ì§„ ê²½ìš°

Tokenì´ Viewerì¸ë° ì“°ê¸° API ìš”ì²­í•œ ê²½ìš°


âœ” 403 Forbidden

Roleì´ ë‚®ìŒ (Admin APIë¥¼ Viewerë¡œ í˜¸ì¶œ)


âœ” 404 not found

Grafana ì£¼ì†Œ/IP/Port ë˜ëŠ” API ê²½ë¡œ ì˜¤íƒ€



---

ğŸ”¥ 5. ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì‹¤ì „ ì˜ˆì‹œ (ë³µì‚¬/ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥)

ëŒ€ì‹œë³´ë“œ JSON ë‚´ë³´ë‚´ê¸°

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://localhost:3000/api/dashboards/uid/YOUR_UID \
     -o dashboard.json

í´ë” ëª©ë¡ í™•ì¸

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://localhost:3000/api/folders

ë°ì´í„°ì†ŒìŠ¤ ë¦¬ìŠ¤íŠ¸ í™•ì¸

curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://localhost:3000/api/datasources


---

ğŸ”§ 6. HTTPS Grafana í™˜ê²½ì¼ ê²½ìš°

ì¦ëª…ì„œ ë¬´ì‹œí•˜ê³  í˜¸ì¶œ:

curl -k -H "Authorization: Bearer YOUR_TOKEN" \
     https://your-grafana-host:3000/api/health


---

ğŸ”š í•„ìš”í•˜ë©´ ë°”ë¡œ ë§Œë“¤ì–´ë“œë¦¼

ì›í•˜ë©´:

Grafana â†’ ClickHouse ë°ì´í„°ì†ŒìŠ¤ ìë™ ë“±ë¡ API

ëŒ€ì‹œë³´ë“œ ìë™ ìƒì„±/ì—…ë°ì´íŠ¸ API ìŠ¤í¬ë¦½íŠ¸

í† í° ë§Œë£Œ ìë™ í™•ì¸ Bash ìŠ¤í¬ë¦½íŠ¸

curl â†’ Python Requests ë³€í™˜


ì „ë¶€ ì‘ì„±í•´ì¤„ê²Œ.

ì§€ê¸ˆ ì–´ë–¤ API í˜¸ì¶œì„ í•˜ê³  ì‹¶ì€ì§€ ì•Œë ¤ì¤˜?
