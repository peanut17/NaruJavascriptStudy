Apache Ignite는 분산 데이터베이스 및 인메모리 컴퓨팅 플랫폼입니다. 두 대의 Ubuntu 서버에 각각 Ignite 노드를 설치하고 클러스터링하는 방법을 단계별로 설명하겠습니다.

1. 사전 준비 Ubuntu 서버 2대 준비 각 서버에 Java 설치 (Apache Ignite는 Java 기반) 방화벽 설정 확인 (클러스터링을 위해 필요한 포트를 열어야 함) 2. Apache Ignite 설치 (1) Java 설치 sudo apt update sudo apt install openjdk-11-jdk -y java -version (2) Apache Ignite 다운로드 및 설치 

각 서버에서 아래 명령 실행:

wget https://archive.apache.org/dist/ignite/2.15.0/apache-ignite-2.15.0-bin.zip unzip apache-ignite-2.15.0-bin.zip mv apache-ignite-2.15.0-bin /opt/ignite 3. 클러스터링 설정 (1) Ignite 설정 파일 수정 

/opt/ignite/config/default-config.xml 파일을 수정하여 클러스터링을 구성합니다.

주요 설정:

Discovery SPI: 클러스터 노드 검색 설정 IP Finder: 각 노드의 IP를 등록 

두 서버 모두에서 아래 설정을 동일하게 적용합니다.

<property name="discoverySpi"> <bean class="org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi"> <property name="ipFinder"> <bean class="org.apache.ignite.spi.discovery.tcp.ipfinder.tcp.TcpDiscoveryStaticIpFinder"> <property name="addresses"> <list> <value>192.168.1.101:47500..47509</value> <!-- 서버 1 IP --> <value>192.168.1.102:47500..47509</value> <!-- 서버 2 IP --> </list> </property> </bean> </property> </bean> </property> (2) 포트 열기 

Ignite는 기본적으로 47500-47509 포트를 사용합니다. 두 서버 모두에서 방화벽 설정을 확인하고 포트를 열어줍니다.

sudo ufw allow 47500:47509/tcp sudo ufw allow 47100/tcp # Communication port 4. Ignite 노드 시작 (1) Ignite 시작 

각 서버에서 아래 명령을 실행하여 Ignite 노드를 시작합니다.

cd /opt/ignite ./bin/ignite.sh config/default-config.xml (2) 로그 확인 

Ignite 노드를 시작하면 로그에 다음과 같은 메시지가 나타납니다.

Topology snapshot [ver=2, servers=2, clients=0] 

이 메시지는 클러스터가 성공적으로 구성되었음을 의미합니다. servers=2는 두 대의 노드가 클러스터에 연결되었음을 나타냅니다.

5. 클러스터 상태 확인 (1) Ignite Control Script 사용 

Ignite는 클러스터 상태를 확인할 수 있는 control.sh 스크립트를 제공합니다.

cd /opt/ignite ./bin/control.sh --host 192.168.1.101 --port 47500 --action topology (2) Web Console 사용 

Ignite Web Console을 설치하고 클러스터 상태를 실시간으로 확인할 수도 있습니다. Web Console 설치는 공식 문서 참고.

6. 테스트 

클러스터가 제대로 동작하는지 테스트하려면, 두 노드에서 동일한 캐시를 생성하고 데이터를 삽입하여 확인합니다.

(1) Ignite Shell 실행 

각 서버에서 Ignite Shell을 실행합니다:

cd /opt/ignite ./bin/ignite.sh (2) 캐시 생성 및 데이터 삽입 Ignite ignite = Ignition.ignite(); IgniteCache<Integer, String> cache = ignite.getOrCreateCache("testCache"); cache.put(1, "Hello"); System.out.println("Cache value: " + cache.get(1)); (3) 데이터 확인 

다른 노드에서도 동일한 데이터를 확인할 수 있으면 클러스터가 성공적으로 구성된 것입니다.

요약 두 서버에 Ignite 설치 후 동일한 설정 파일을 구성. 방화벽 설정으로 필요한 포트 열기. Ignite 노드 시작 후 로그나 control.sh로 클러스터 확인. 캐시 데이터를 사용하여 클러스터 연결 테스트. 

필요한 부분에 추가적인 지원이 필요하면 말씀해주세요!

